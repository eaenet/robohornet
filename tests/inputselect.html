<!DOCTYPE html>
<html>
<head>
<title>Calling select() on input forces layout</title>
<style>
.test div { float: left; width: 10em; height: 2em; }
</style>
</head>
<body>
<input type="text" value="test" id="input">
<script>
    
    var rootElement, inputElement = document.getElementById('input');
    function setUp(depth)
    {
        rootElement = document.createElement('div');
        rootElement.className = 'test';
        for (var i = 0; i < depth; i++) {
            var element = document.createElement('div');
            rootElement.appendChild(element);
        }
        document.body.appendChild(rootElement);
    }

    function tearDown()
    {
        rootElement.parentNode.removeChild(rootElement);
        rootElement = null;
    }

    function test()
    {
        inputElement.focus();
        inputElement.select();
        inputElement.blur();
    }

		if (window.opener && window.opener.__robohornet__) {
			document.body.appendChild(document.createTextNode('Running test using test runner...'));
			window.opener.__robohornet__.benchmarkLoaded();
		} else {
			document.body.appendChild(document.createTextNode('Not yet implemented'));
    }
</script>
</body>
</html>
