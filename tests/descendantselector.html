<!DOCTYPE html>
<html>
<head>
<title>Descendant selectors</title>
<style>
div { padding: 1px; }
.test div { padding: 2px; }
</style>
</head>
<body>
<script>

    function info()
    {
        return {
            name: 'descendant selectors',
            description: 'Reflow of deep dom tree matching a descendant selector.',
            tests: [
                ['10 deep', 10],
                ['100 deep', 100],
                ['500 deep', 500],
                ['1000 deep', 1000]
            ]
        };
    }
    
    var rootElement;
    function setUp(depth)
    {
        rootElement = document.createElement('div');
        var parentElement = rootElement;
        for (var i = 0; i < depth; i++) {
            var element = document.createElement('div');
            parentElement.appendChild(element);
            parentElement = element;
        }
        document.body.appendChild(rootElement);
    }

    function tearDown()
    {
        rootElement.parentNode.removeChild(rootElement);
        rootElement = null;
    }

    function test(depth)
    {
        rootElement.className = rootElement.className == 'test' ? '' : 'test';
        rootElement.offsetHeight;
    }
</script>
</body>
</html>
